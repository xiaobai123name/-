# ğŸ“š æ™ºèƒ½å­¦ä¹ ä¼´ä¾£ç³»ç»Ÿ

åŸºäºRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯çš„ä¸ªæ€§åŒ–æ™ºèƒ½å­¦ä¹ åŠ©æ‰‹ã€‚

## ğŸŒŸ é¡¹ç›®ç‰¹è‰²

- **æƒå¨é—®ç­”** - åŸºäºæ‚¨ä¸Šä¼ çš„æ–‡æ¡£æä¾›ç²¾å‡†ç­”æ¡ˆï¼Œå¼•ç”¨åŸæ–‡ï¼Œæœç»å¹»è§‰
- **æ™ºèƒ½æµ‹éªŒ** - è‡ªåŠ¨ç”Ÿæˆæµ‹éªŒé¢˜ç›®ï¼Œè¿½è¸ªå­¦ä¹ è¿›åº¦ï¼Œå¼ºåŒ–è–„å¼±çŸ¥è¯†ç‚¹
- **ä¸ªæ€§åŒ–è¿½é—®** - ç­”é”™æ—¶è‡ªåŠ¨åˆ†æé”™è¯¯åŸå› ï¼Œç”Ÿæˆè¿½é—®å¼•å¯¼ç†è§£
- **çŸ¥è¯†è¿½è¸ª** - è®°å½•å­¦ä¹ å†å²ï¼Œè¯†åˆ«è–„å¼±ç‚¹ï¼Œæä¾›ä¸ªæ€§åŒ–å»ºè®®
- **å¤šæ ¼å¼æ”¯æŒ** - æ”¯æŒ PDFã€Wordã€Markdown æ ¼å¼æ–‡æ¡£

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿å·²å®‰è£… Python 3.10+ï¼ˆæ¨è 3.12ï¼‰ï¼š

```bash
python --version
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# Windows
python -m venv venv
.\venv\Scripts\activate

# Linux/Mac
python -m venv venv
source venv/bin/activate
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. é…ç½®APIå¯†é’¥

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿å¹¶å¡«å†™APIå¯†é’¥ï¼š

```bash
copy .env.example .env  # Windows
# æˆ–
cp .env.example .env    # Linux/Mac
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä»¥ä¸‹å¯†é’¥ï¼š

```env
# å¿…éœ€
GOOGLE_API_KEY=your_gemini_api_key

# å¯é€‰ï¼ˆå¢å¼ºåŠŸèƒ½ï¼‰
LLAMA_CLOUD_API_KEY=your_llamaparse_key
SILICONFLOW_API_KEY=your_siliconflow_key
```

**è·å–å¯†é’¥ï¼š**
- Gemini API: https://aistudio.google.com/
- LlamaParse: https://cloud.llamaindex.ai/
- ç¡…åŸºæµåŠ¨: https://siliconflow.cn/

### 5. è¿è¡Œåº”ç”¨

```bash
streamlit run app/ä¸»é¡µ.py
```

è®¿é—® http://localhost:8501 å³å¯ä½¿ç”¨ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
bishe/
â”œâ”€â”€ app/                    # Streamlitå‰ç«¯
â”‚   â”œâ”€â”€ main.py             # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ pages/              # å¤šé¡µé¢
â”‚       â”œâ”€â”€ 1_chat.py       # æ™ºèƒ½é—®ç­”
â”‚       â”œâ”€â”€ 2_documents.py  # æ–‡æ¡£ç®¡ç†
â”‚       â”œâ”€â”€ 3_quiz.py       # æµ‹éªŒç»ƒä¹ 
â”‚       â”œâ”€â”€ 4_knowledge_graph.py  # çŸ¥è¯†å›¾è°±(Phase 2)
â”‚       â””â”€â”€ 5_settings.py   # è®¾ç½®
â”œâ”€â”€ backend/                # åç«¯æ ¸å¿ƒ
â”‚   â”œâ”€â”€ auth/               # ç”¨æˆ·è®¤è¯
â”‚   â”œâ”€â”€ document/           # æ–‡æ¡£å¤„ç†
â”‚   â”œâ”€â”€ retrieval/          # æ£€ç´¢æ¨¡å—
â”‚   â”œâ”€â”€ rag/                # RAGæ ¸å¿ƒ
â”‚   â”œâ”€â”€ learning/           # å­¦ä¹ åŠŸèƒ½
â”‚   â””â”€â”€ database/           # æ•°æ®åº“
â”œâ”€â”€ data/                   # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ uploads/            # ç”¨æˆ·æ–‡æ¡£
â”‚   â”œâ”€â”€ chroma_db/          # å‘é‡æ•°æ®åº“
â”‚   â””â”€â”€ sample_docs/        # ç¤ºä¾‹æ–‡æ¡£
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

## ğŸ”§ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | Streamlit |
| LLM | Gemini 2.0 Flash |
| Embedding | text-embedding-004 |
| å‘é‡æ•°æ®åº“ | ChromaDB |
| RAGæ¡†æ¶ | LangChain + LlamaIndex |
| æ–‡æ¡£è§£æ | LlamaParse / PyPDF |
| é‡æ’åº | bge-reranker (ç¡…åŸºæµåŠ¨) |
| å…³ç³»æ•°æ®åº“ | SQLite |

## ğŸ“Š æ ¸å¿ƒåŠŸèƒ½

### RAGé—®ç­”æµç¨‹

```
ç”¨æˆ·é—®é¢˜ â†’ æ··åˆæ£€ç´¢(å‘é‡+BM25) â†’ RRFèåˆ â†’ è‡ªé€‚åº”é‡æ’åº â†’ çˆ¶æ–‡æ¡£ä¸Šä¸‹æ–‡ â†’ LLMç”Ÿæˆ â†’ å¼•ç”¨æ ‡æ³¨
```

### æ™ºèƒ½æµ‹éªŒ

```
é€‰æ‹©æ–‡æ¡£ â†’ æ£€ç´¢æ ¸å¿ƒçŸ¥è¯† â†’ LLMç”Ÿæˆé¢˜ç›® â†’ ç”¨æˆ·ç­”é¢˜ â†’ é”™è¯¯è¿½é—® â†’ çŸ¥è¯†çŠ¶æ€æ›´æ–°
```

### çŸ¥è¯†è¿½è¸ª

- è®°å½•æ¯ä¸ªçŸ¥è¯†ç‚¹çš„ç­”é¢˜æƒ…å†µ
- è®¡ç®—æŒæ¡ç‡ = æ­£ç¡®æ¬¡æ•° / æ€»å°è¯•æ¬¡æ•°
- æŒæ¡ç‡ < 60% ä¸”å°è¯• â‰¥ 3 æ¬¡ â†’ æ ‡è®°ä¸ºè–„å¼±ç‚¹
- å‡ºé¢˜æ—¶æŒ‰æƒé‡é‡‡æ ·ï¼Œä¼˜å…ˆè€ƒå¯Ÿè–„å¼±çŸ¥è¯†ç‚¹

## ğŸ”’ å®‰å…¨è¯´æ˜

- ç”¨æˆ·å¯†ç ä½¿ç”¨ bcrypt åŠ å¯†å­˜å‚¨
- APIå¯†é’¥å­˜å‚¨åœ¨æœ¬åœ° `.env` æ–‡ä»¶ï¼Œä¸ä¼šä¸Šä¼ 
- æ¯ä¸ªç”¨æˆ·çš„æ–‡æ¡£å’ŒçŸ¥è¯†åº“ç›¸äº’éš”ç¦»

## ğŸ“ å¼€å‘è®¡åˆ’

### Phase 1 (MVP) âœ…
- [x] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [x] å¤šæ ¼å¼æ–‡æ¡£è§£æ
- [x] æ™ºèƒ½åˆ†å—ä¸å‘é‡åŒ–
- [x] æ··åˆæ£€ç´¢ä¸é‡æ’åº
- [x] RAGé—®ç­”ä¸å¼•ç”¨
- [x] æ™ºèƒ½æµ‹éªŒç”Ÿæˆ
- [x] çŸ¥è¯†è¿½è¸ª

### Phase 2 (è¿›è¡Œä¸­)
- [ ] è‹æ ¼æ‹‰åº•å¼å¯¹è¯
- [ ] çŸ¥è¯†å›¾è°±æ„å»º
- [ ] äº¤äº’å¼å›¾è°±å¯è§†åŒ–
- [ ] è·¨æ–‡æ¡£çŸ¥è¯†å…³è”

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯

MIT License
